{"version":3,"file":"static/js/movie-details-view.9ea4cc7b.chunk.js","mappings":"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","sources":["components/page/CourseDetailsPage/CourseDetailsCard/CourseDetailsCard.styled.jsx","components/Player/Player.styled.jsx","components/Player/VideoList.jsx","components/Player/VideoPlayer.jsx","components/Player/Player.jsx","components/page/CourseDetailsPage/CourseDetailsCard/CourseDetailsCard.jsx","components/page/CourseDetailsPage/CourseDetailsPage.styled.jsx","components/page/CourseDetailsPage/CourseDetailsPage.jsx","services/fetchCourses.jsx"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const ContainerCourseDetails = styled.div`\n  margin-top: 10px;\n  padding: 10px;\n  border-radius: 30px;\n  border: 0.5px solid #fff;\n  background-color: #9a8f8f;\n  color: #fff;\n\n  @media screen and (max-width: 480px) {\n    max-width: 310px;\n  }\n`;\n\nexport const CourseContainer = styled.div`\n  display: flex;\n  margin-top: 20px;\n\n  @media screen and (max-width: 480px) {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n\nexport const Video = styled.video`\n  margin-top: 40px;\n  width: 750px;\n  height: 300px;\n\n  @media screen and (max-width: 768px) {\n    width: 80%;\n  }\n`;\n\nexport const Title = styled.h3`\n  position: absolute;\n  width: 100%;\n  top: 0;\n  padding: 10px;\n  text-align: center;\n  border-radius: 10px;\n  background-color: #000;\n  color: #fff;\n\n  @media screen and (max-width: 768px) {\n    width: 80%;\n  }\n`;\n\nexport const ListTitle = styled.h3`\n  margin-top: 20px;\n  margin-bottom: 20px;\n  text-align: center;\n`;\n\nexport const List = styled.ul`\n  display: flex;\n  list-style: none;\n  @media screen and (max-width: 480px) {\n    flex-direction: column;\n  }\n`;\n\nexport const Item = styled.li`\n  padding: 10px;\n  background-color: #000000;\n  cursor: pointer;\n  text-align: center;\n  &:not(:last-child) {\n    margin-right: 10px;\n  }\n  border-radius: 10px;\n\n  &:hover {\n    box-shadow: 0px 0px 15px 0px rgb(255, 255, 255);\n  }\n\n  @media screen and (max-width: 480px) {\n    margin-bottom: 10px;\n  }\n`;\n","import PropTypes from \"prop-types\";\nimport { List, Item, ListTitle } from \"./Player.styled\";\n\nexport const VideoList = ({ videos, onSelect }) => {\n  return (\n    <>\n      <ListTitle>Click to watch any videosðŸ‘‡</ListTitle>\n      <List>\n        {videos.map((video) => (\n          <Item key={video.id} onClick={() => onSelect(video)}>\n            <h4>{video.title}</h4>\n          </Item>\n        ))}\n      </List>\n    </>\n  );\n};\n\nVideoList.propTypes = {\n  videos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n  onSelect: PropTypes.func.isRequired,\n};\n","import { useState } from \"react\";\nimport { Container, Video, Title } from \"./Player.styled\";\nimport PropTypes from \"prop-types\";\n\nexport const VideoPlayer = ({ video }) => {\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n\n  const handleTimeUpdate = (event) => {\n    const currentTime = event.target.currentTime;\n    localStorage.setItem(video.id, currentTime);\n    setCurrentTime(currentTime);\n  };\n\n  return (\n    <Container>\n      <Video\n        controls\n        poster={video.previewImageLink}\n        onTimeUpdate={handleTimeUpdate}\n        onLoadedMetadata={(event) => {\n          setDuration(event.target.duration);\n          const savedTime = localStorage.getItem(video.id);\n          if (savedTime) {\n            event.target.currentTime = savedTime;\n          }\n        }}\n      >\n        <source src={video.link} type=\"application/x-mpegURL\" />\n        Sorry, your browser doesn't support embedded videos.\n      </Video>\n      <Title>{video.title}</Title>\n    </Container>\n  );\n};\n\nVideoPlayer.propTypes = {\n  video: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n    videoUrl: PropTypes.string.isRequired,\n    thumbnailUrl: PropTypes.string,\n  }).isRequired,\n};\n","import React, { useState } from \"react\";\nimport { VideoList } from \"./VideoList\";\nimport { VideoPlayer } from \"./VideoPlayer\";\nimport PropTypes from \"prop-types\";\n\nexport const Player = ({ course }) => {\n  const { lessons } = course;\n  const [currentVideo, setCurrentVideo] = useState(lessons[0]);\n\n  const handleVideoSelect = (video) => {\n    setCurrentVideo(video);\n  };\n\n  return (\n    <div>\n      <VideoPlayer video={currentVideo} />\n      <VideoList videos={lessons} onSelect={handleVideoSelect} />\n    </div>\n  );\n};\n\nPlayer.propTypes = {\n  course: PropTypes.shape({\n    lessons: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        title: PropTypes.string.isRequired,\n        description: PropTypes.string.isRequired,\n        videoUrl: PropTypes.string.isRequired,\n        thumbnailUrl: PropTypes.string,\n      })\n    ).isRequired,\n  }).isRequired,\n};\n","import {\n  ContainerCourseDetails,\n  CourseContainer,\n} from \"./CourseDetailsCard.styled\";\nimport PropTypes from \"prop-types\";\nimport { Player } from \"../../../Player/Player\";\n\nconst CourseDetailsCard = ({ data }) => {\n  return (\n    <ContainerCourseDetails>\n      <CourseContainer>\n        <Player course={data} />\n      </CourseContainer>\n    </ContainerCourseDetails>\n  );\n};\n\nexport default CourseDetailsCard;\n\nCourseDetailsCard.propTypes = {\n  data: PropTypes.object.isRequired,\n};\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\nexport const ButtonGoBackContainer = styled.div`\n  margin-top: 10px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n`;\n\nexport const ButtonGoBack = styled(Link)`\n  padding: 5px 10px;\n  border: none;\n  text-decoration: none;\n  color: #fff;\n  background-color: #000;\n  border-radius: 20px;\n  cursor: pointer;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover {\n    background-color: #ff6b01;\n  }\n`;\n","import { useState, useEffect } from \"react\";\nimport { useParams, Outlet } from \"react-router-dom\";\nimport * as CoursesAPI from \"../../../services/fetchCourses\";\nimport CourseDetailsCard from \"./CourseDetailsCard\";\nimport {\n  ButtonGoBackContainer,\n  ButtonGoBack,\n} from \"./CourseDetailsPage.styled\";\nimport { useLocation } from \"react-router-dom\";\nimport { Loading } from \"notiflix/build/notiflix-loading-aio\";\n\nconst CourseDetailsPage = () => {\n  const { id } = useParams();\n  const [course, setCourse] = useState();\n  const location = useLocation();\n  const [prevLocation, setPrevLocation] = useState(\n    location?.state?.from ?? \"/\"\n  );\n\n  useEffect(() => {\n    CoursesAPI.getCourseInfo(id)\n      .then((data) => {\n        Loading.circle({\n          svgColor: \"#ff6b01\",\n          cssAnimationDuration: 800,\n        });\n        setCourse(data);\n      })\n      .finally(() => {\n        Loading.remove();\n      });\n  }, [id]);\n\n  return (\n    <>\n      <ButtonGoBackContainer>\n        <ButtonGoBack to={prevLocation}>Go back</ButtonGoBack>\n      </ButtonGoBackContainer>\n      {course && <CourseDetailsCard data={course} />}\n      <Outlet />\n    </>\n  );\n};\n\nexport default CourseDetailsPage;\n","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://api.wisey.app/api/v1/\";\n\nexport async function fetchToken() {\n  try {\n    const { data } = await axios.get(\"auth/anonymous?platform=subscriptions\");\n    localStorage.setItem(\"token\", data.token);\n    return data.token;\n  } catch (error) {\n    console.error(\"An error occurred while fetching the token:\", error);\n    throw error;\n  }\n}\n\nexport async function getCourses() {\n  try {\n    const { data } = await axios.get(\"core/preview-courses\", {\n      headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n    });\n    return data.courses;\n  } catch (error) {\n    if (error.response) {\n      console.log(`Request failed with status code ${error.response.status}`);\n    } else if (error.request) {\n      console.log(\"Request failed to send\");\n    } else {\n      console.log(`Error: ${error.message}`);\n    }\n  }\n}\n\nexport async function getCourseInfo(courseId) {\n  try {\n    const { data } = await axios.get(`core/preview-courses/${courseId}`, {\n      headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n    });\n    return data;\n  } catch (error) {\n    if (error.response) {\n      // The request was made and the server responded with a status code\n      // that falls out of the range of 2xx\n      console.log(error.response.data);\n      console.log(error.response.status);\n      console.log(error.response.headers);\n    } else if (error.request) {\n      // The request was made but no response was received\n      // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n      // http.ClientRequest in node.js\n      console.log(error.request);\n    } else {\n      // Something happened in setting up the request that triggered an Error\n      console.log(\"Error\", error.message);\n    }\n    console.log(error.config);\n  }\n}\n"],"names":["ContainerCourseDetails","styled","CourseContainer","Container","Video","Title","ListTitle","List","Item","VideoList","videos","onSelect","map","video","onClick","title","id","VideoPlayer","useState","setCurrentTime","setDuration","controls","poster","previewImageLink","onTimeUpdate","event","currentTime","target","localStorage","setItem","onLoadedMetadata","duration","savedTime","getItem","src","link","type","Player","lessons","course","currentVideo","setCurrentVideo","data","ButtonGoBackContainer","ButtonGoBack","Link","useParams","setCourse","location","useLocation","state","from","prevLocation","useEffect","CoursesAPI","then","Loading","svgColor","cssAnimationDuration","finally","to","fetchToken","axios","token","console","error","getCourses","headers","Authorization","courses","response","log","status","request","message","getCourseInfo","courseId","config"],"sourceRoot":""}