{"version":3,"file":"static/js/home-view.2d46f9af.chunk.js","mappings":"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","sources":["components/CardCourse/CardCourse.styled.jsx","components/Skills/Skills.styled.jsx","components/Skills/Skills.jsx","components/CardCourse/CardCourse.jsx","components/CourseList/CourseList.styled.jsx","hooks/usePagination.jsx","components/CourseList/CourseList.jsx","components/page/HomePage/HomePage.jsx","services/fetchCourses.jsx"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nexport const ItemLink = styled(Link)`\n  text-decoration: none;\n  color: #fff;\n`;\n\nexport const Item = styled.li`\n  position: relative;\n  overflow: hidden;\n  border-radius: 10px;\n  box-shadow: 0px 0px 5px 0px rgba(255, 255, 255, 0.75);\n  background-color: RGBA(0, 0, 0, 1);\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover {\n    transform: scale(1.02);\n  }\n\n  @media screen and (max-width: 480px) {\n    width: 80%;\n  }\n`;\n\nexport const MetaWrapper = styled.div`\n  padding: 10px;\n`;\n\nexport const Title = styled.h2`\n  margin-bottom: 8px;\n  font-size: 14px;\n`;\n\nexport const PreTitle = styled.p`\n  font-size: 12px;\n  margin-bottom: 8px;\n`;\n\nexport const Image = styled.img`\n  display: block;\n  max-width: 100%;\n`;\n\nexport const Rating = styled.p`\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  top: 5px;\n  right: 5px;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  background-color: ${(props) => (props.value >= 4 ? \"#138000\" : \"#FDD700\")};\n  color: #fff;\n  font-size: 16px;\n`;\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const Title = styled.h2`\n  font-size: 16px;\n  margin-bottom: 10px;\n`;\n\nexport const List = styled.ul`\n  margin-left: 15px;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const Item = styled.span`\n  font-size: 14px;\n`;\n","import { Title, List, Container, Item } from \"./Skills.styled\";\n\nexport const Skills = ({ meta }) => {\n  const { skills } = meta;\n  return (\n    <Container>\n      <Title>Skills</Title>\n      <List>\n        {skills.map((el, index) => (\n          <li key={index}>\n            <Item>{el}</Item>\n          </li>\n        ))}\n      </List>\n    </Container>\n  );\n};\n","import {\n  PreTitle,\n  Item,\n  Title,\n  MetaWrapper,\n  Rating,\n  Image,\n} from \"./CardCourse.styled\";\nimport PropTypes from \"prop-types\";\nimport { useLocation } from \"react-router-dom\";\nimport { ItemLink } from \"../CardCourse/CardCourse.styled\";\nimport { Skills } from \"../Skills/Skills\";\n\nconst CardCourse = ({ itemData }) => {\n  const location = useLocation();\n  const { previewImageLink, title, lessonsCount, rating, id, meta } = itemData;\n\n  return (\n    <>\n      <Item>\n        <ItemLink to={`${id}`} state={{ from: location }}>\n          <Image\n            src={\n              previewImageLink\n                ? `${previewImageLink}/cover.webp`\n                : `https://upload.wikimedia.org/wikipedia/commons/f/fc/No_picture_available.png`\n            }\n            alt=\"\"\n          />\n          <MetaWrapper>\n            <Title>{title}</Title>\n            <PreTitle>This course includes {lessonsCount} lessons</PreTitle>\n            <Rating value={rating}>{rating}</Rating>\n            <Skills meta={meta} />\n          </MetaWrapper>\n        </ItemLink>\n      </Item>\n    </>\n  );\n};\n\nexport default CardCourse;\n\nCardCourse.propTypes = {\n  itemData: PropTypes.object.isRequired,\n};\n","import styled from \"styled-components\";\n\nexport const List = styled.ul`\n  margin-top: 20px;\n  display: grid;\n  grid-template-columns: repeat(1, 1fr);\n  justify-items: center;\n  grid-gap: 1em;\n  list-style: none;\n\n  @media screen and (min-width: 768px) {\n    grid-template-columns: repeat(2, 1fr);\n    justify-items: center;\n  }\n`;\n","import { useState } from \"react\";\nconst usePagination = ({ contentPerPage, count }) => {\n  const [page, setPage] = useState(1);\n  // number of pages in total (total items / content on each page)\n  const pageCount = Math.ceil(count / contentPerPage);\n  // index of last item of current page\n  const lastContentIndex = page * contentPerPage;\n  // index of first item of current page\n  const firstContentIndex = lastContentIndex - contentPerPage;\n  // change page based on direction either front or back\n  const changePage = (direction) => {\n    setPage((state) => {\n      // move forward\n      if (direction) {\n        // if page is the last page, do nothing\n        if (state === pageCount) {\n          return state;\n        }\n        return state + 1;\n        // go back\n      } else {\n        // if page is the first page, do nothing\n        if (state === 1) {\n          return state;\n        }\n        return state - 1;\n      }\n    });\n  };\n  const setPageSAFE = (num) => {\n    // if number is greater than number of pages, set to last page\n    if (num > pageCount) {\n      setPage(pageCount);\n      // if number is less than 1, set page to first page\n    } else if (num < 1) {\n      setPage(1);\n    } else {\n      setPage(num);\n    }\n  };\n  return {\n    totalPages: pageCount,\n    nextPage: () => changePage(true),\n    prevPage: () => changePage(false),\n    setPage: setPageSAFE,\n    firstContentIndex,\n    lastContentIndex,\n    page,\n  };\n};\n\nexport default usePagination;\n","import CardCourse from \"../CardCourse\";\nimport { List } from \"./CourseList.styled\";\nimport PropTypes from \"prop-types\";\nimport usePagination from \"../../hooks/usePagination\";\n\nconst CourseList = ({ data }) => {\n  const {\n    firstContentIndex,\n    lastContentIndex,\n    nextPage,\n    prevPage,\n    // page,\n    // setPage,\n    // totalPages,\n  } = usePagination({\n    contentPerPage: 10,\n    count: data,\n  });\n\n  return (\n    <>\n      <List>\n        {data.slice(firstContentIndex, lastContentIndex).map((el) => (\n          <CardCourse itemData={el} key={el.id} />\n        ))}\n      </List>\n      {data && (\n        <div className=\"pagination\">\n          <button onClick={prevPage} className=\"page\">\n            &larr;\n          </button>\n          <button onClick={nextPage} className=\"page\">\n            &rarr;\n          </button>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default CourseList;\n\nCourseList.propTypes = {\n  data: PropTypes.array.isRequired,\n};\n","import { useEffect, useState } from \"react\";\nimport CourseList from \"../../CourseList\";\nimport * as CoursesAPI from \"../../../services/fetchCourses\";\n\nconst HomePage = () => {\n  const [token, setToken] = useState(localStorage.getItem(\"token\"));\n  const [courses, setCourse] = useState([]);\n\n  useEffect(() => {\n    if (!token) {\n      CoursesAPI.fetchToken().then(setToken);\n    } else {\n      CoursesAPI.getCourses().then(setCourse);\n    }\n  }, [token]);\n\n  return <CourseList data={courses} />;\n};\n\nexport default HomePage;\n","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://api.wisey.app/api/v1/\";\n\nexport async function fetchToken() {\n  try {\n    const { data } = await axios.get(\"auth/anonymous?platform=subscriptions\");\n    localStorage.setItem(\"token\", data.token);\n    return data.token;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function getCourses() {\n  try {\n    const { data } = await axios.get(\"core/preview-courses\", {\n      headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n    });\n    return data.courses;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function getCourseInfo(courseId) {\n  try {\n    const { data } = await axios.get(`core/preview-courses/${courseId}`, {\n      headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n    });\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n"],"names":["ItemLink","styled","Link","Item","MetaWrapper","Title","PreTitle","Image","Rating","props","value","Container","List","Skills","skills","meta","map","el","index","itemData","location","useLocation","previewImageLink","title","lessonsCount","rating","id","to","state","from","src","alt","contentPerPage","count","useState","page","setPage","pageCount","Math","ceil","lastContentIndex","changePage","direction","totalPages","nextPage","prevPage","num","firstContentIndex","data","usePagination","slice","className","onClick","localStorage","getItem","token","setToken","courses","setCourse","useEffect","CoursesAPI","then","fetchToken","axios","setItem","console","log","getCourses","headers","Authorization","getCourseInfo","courseId"],"sourceRoot":""}